import{r as C,l as Z,j as u,m as A,p as m,V as U,W as z,X as L,Y as T,Z as D,a as O,$ as G,w as J,a0 as V,s as Q,C as q,h as F,a1 as ee,a2 as ae,n as j,v as ne,R as re,a3 as te,o as se,a4 as oe,F as le}from"./index.2af67884.js";var H=C.exports.forwardRef(function(i,o){var t,a=i.prefixCls,e=i.forceRender,l=i.className,s=i.style,r=i.children,n=i.isActive,c=i.role,d=C.exports.useState(n||e),p=Z(d,2),y=p[0],v=p[1];return C.exports.useEffect(function(){(e||n)&&v(!0)},[e,n]),y?u("div",{ref:o,className:A("".concat(a,"-content"),(t={},m(t,"".concat(a,"-content-active"),n),m(t,"".concat(a,"-content-inactive"),!n),t),l),style:s,role:c,children:u("div",{className:"".concat(a,"-content-box"),children:r})}):null});H.displayName="PanelContent";var W=function(i){U(t,i);var o=z(t);function t(){var a;L(this,t);for(var e=arguments.length,l=new Array(e),s=0;s<e;s++)l[s]=arguments[s];return a=o.call.apply(o,[this].concat(l)),a.onItemClick=function(){var r=a.props,n=r.onItemClick,c=r.panelKey;typeof n=="function"&&n(c)},a.handleKeyPress=function(r){(r.key==="Enter"||r.keyCode===13||r.which===13)&&a.onItemClick()},a.renderIcon=function(){var r=a.props,n=r.showArrow,c=r.expandIcon,d=r.prefixCls,p=r.collapsible;if(!n)return null;var y=typeof c=="function"?c(a.props):u("i",{className:"arrow"});return y&&u("div",{className:"".concat(d,"-expand-icon"),onClick:p==="header"?a.onItemClick:null,children:y})},a.renderTitle=function(){var r=a.props,n=r.header,c=r.prefixCls,d=r.collapsible;return u("span",{className:"".concat(c,"-header-text"),onClick:d==="header"?a.onItemClick:null,children:n})},a}return T(t,[{key:"shouldComponentUpdate",value:function(e){return!D(this.props,e)}},{key:"render",value:function(){var e,l,s=this.props,r=s.className,n=s.id,c=s.style,d=s.prefixCls,p=s.headerClass,y=s.children,v=s.isActive,h=s.destroyInactivePanel,_=s.accordion,w=s.forceRender,S=s.openMotion,b=s.extra,P=s.collapsible,k=P==="disabled",g=P==="header",f=A((e={},m(e,"".concat(d,"-item"),!0),m(e,"".concat(d,"-item-active"),v),m(e,"".concat(d,"-item-disabled"),k),e),r),N=A("".concat(d,"-header"),(l={},m(l,p,p),m(l,"".concat(d,"-header-collapsible-only"),g),l)),x={className:N,"aria-expanded":v,"aria-disabled":k,onKeyPress:this.handleKeyPress};g||(x.onClick=this.onItemClick,x.role=_?"tab":"button",x.tabIndex=k?-1:0);var K=b!=null&&typeof b!="boolean";return O("div",{className:f,style:c,id:n,children:[O("div",{...x,children:[this.renderIcon(),this.renderTitle(),K&&u("div",{className:"".concat(d,"-extra"),children:b})]}),u(G,{visible:v,leavedClassName:"".concat(d,"-content-hidden"),...S,forceRender:w,removeOnLeave:h,children:function(I,$){var E=I.className,M=I.style;return u(H,{ref:$,prefixCls:d,className:E,style:M,isActive:v,forceRender:w,role:_?"tabpanel":null,children:y})}})]})}}]),t}(C.exports.Component);W.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};function B(i){var o=i;if(!Array.isArray(o)){var t=Q(o);o=t==="number"||t==="string"?[o]:[]}return o.map(function(a){return String(a)})}var R=function(i){U(t,i);var o=z(t);function t(a){var e;L(this,t),e=o.call(this,a),e.onClickItem=function(n){var c=e.state.activeKey;if(e.props.accordion)c=c[0]===n?[]:[n];else{c=J(c);var d=c.indexOf(n),p=d>-1;p?c.splice(d,1):c.push(n)}e.setActiveKey(c)},e.getNewChild=function(n,c){if(!n)return null;var d=e.state.activeKey,p=e.props,y=p.prefixCls,v=p.openMotion,h=p.accordion,_=p.destroyInactivePanel,w=p.expandIcon,S=p.collapsible,b=n.key||String(c),P=n.props,k=P.header,g=P.headerClass,f=P.destroyInactivePanel,N=P.collapsible,x=!1;h?x=d[0]===b:x=d.indexOf(b)>-1;var K=N!=null?N:S,I={key:b,panelKey:b,header:k,headerClass:g,isActive:x,prefixCls:y,destroyInactivePanel:f!=null?f:_,openMotion:v,accordion:h,children:n.props.children,onItemClick:K==="disabled"?null:e.onClickItem,expandIcon:w,collapsible:K};return typeof n.type=="string"?n:(Object.keys(I).forEach(function($){typeof I[$]>"u"&&delete I[$]}),C.exports.cloneElement(n,I))},e.getItems=function(){var n=e.props.children;return V(n).map(e.getNewChild)},e.setActiveKey=function(n){"activeKey"in e.props||e.setState({activeKey:n}),e.props.onChange(e.props.accordion?n[0]:n)};var l=a.activeKey,s=a.defaultActiveKey,r=s;return"activeKey"in a&&(r=l),e.state={activeKey:B(r)},e}return T(t,[{key:"shouldComponentUpdate",value:function(e,l){return!D(this.props,e)||!D(this.state,l)}},{key:"render",value:function(){var e,l=this.props,s=l.prefixCls,r=l.className,n=l.style,c=l.accordion,d=A((e={},m(e,s,!0),m(e,r,!!r),e));return u("div",{className:d,style:n,role:c?"tablist":null,children:this.getItems()})}}],[{key:"getDerivedStateFromProps",value:function(e){var l={};return"activeKey"in e&&(l.activeKey=B(e.activeKey)),l}}]),t}(C.exports.Component);R.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1};R.Panel=W;R.Panel;var ie=function(o){var t=C.exports.useContext(q),a=t.getPrefixCls,e=o.prefixCls,l=o.className,s=l===void 0?"":l,r=o.showArrow,n=r===void 0?!0:r,c=a("collapse",e),d=A(m({},"".concat(c,"-no-arrow"),!n),s);return u(R.Panel,{...o,prefixCls:c,className:d})};const ce=ie;var X=function(o){var t,a=C.exports.useContext(q),e=a.getPrefixCls,l=a.direction,s=o.prefixCls,r=o.className,n=r===void 0?"":r,c=o.bordered,d=c===void 0?!0:c,p=o.ghost,y=o.expandIconPosition,v=y===void 0?"start":y,h=e("collapse",s),_=C.exports.useMemo(function(){return v==="left"?"start":v==="right"?"end":v},[v]),w=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=o.expandIcon,N=f?f(g):u(ae,{rotate:g.isActive?90:void 0});return j(N,function(){return{className:A(N.props.className,"".concat(h,"-arrow"))}})},S=A("".concat(h,"-icon-position-").concat(_),(t={},m(t,"".concat(h,"-borderless"),!d),m(t,"".concat(h,"-rtl"),l==="rtl"),m(t,"".concat(h,"-ghost"),!!p),t),n),b=F(F({},ee),{motionAppear:!1,leavedClassName:"".concat(h,"-content-hidden")}),P=function(){var g=o.children;return V(g).map(function(f,N){var x;if(!((x=f.props)===null||x===void 0)&&x.disabled){var K=f.key||String(N),I=f.props,$=I.disabled,E=I.collapsible,M=F(F({},ne(f.props,["disabled"])),{key:K,collapsible:E!=null?E:$?"disabled":void 0});return j(f,M)}return f})};return u(R,{openMotion:b,...o,expandIcon:w,prefixCls:h,className:S,children:P()})};X.Panel=ce;const Y=X,{Panel:de}=Y,fe=i=>{var e,l,s;const o=(e=i.cols)!=null?e:2,t={span:24/o},a={header:"\u9ED8\u8BA4\u677F\u5757",id:String((l=i.id)!=null?l:i.key),...i};return u(de,{...a,className:`form-block form-block-${a.id.toString()} ${(s=a.className)!=null?s:""}`,children:u(re,{gutter:24,children:C.exports.Children.map(a.children,r=>{if(!r)return null;let n=t.span;try{r.props.fill?n=24:r.props.crossCol&&(n=n*r.props.crossCol)}catch{console.log("\u6B64\u7EC4\u4EF6\u4E0D\u9002\u7528\u8DE8\u5217")}return u(te,{span:n,children:r})})})})};function pe(i,o){const t=[];return C.exports.Children.forEach(i,a=>{o.push(a.key);const e={id:a.key};t.push(C.exports.cloneElement(a,e))}),t}const ve=i=>{var s;const o=[],{formData:t}=se(),a=oe();C.exports.useEffect(()=>{a.setFieldsValue(t)},[a,t]);const e=(s=i==null?void 0:i.labelColSpan)!=null?s:8,l={labelCol:{span:e},wrapperCol:{span:24-e}};return u(le,{...l,form:a,name:"basicForm",children:u(Y,{defaultActiveKey:o,className:`form-data ${i.className}`,expandIconPosition:"end",children:pe(i.children,o)})})};export{fe as F,ve as a};
