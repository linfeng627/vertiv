import{e as I,r as s,a as x,L as k,j as e,B as p,S as B,F as E}from"./index.85f94627.js";import{E as T,T as R}from"./Tree.4c357a96.js";import{I as L}from"./index.938f79c1.js";import{T as F}from"./Table.125047d9.js";const{Sider:K,Content:P}=k,{DirectoryTree:j}=R,{Search:N}=L,b=I.createContext(null),$=({index:m,...l})=>{const[n]=E.useForm();return e(E,{form:n,component:!1,children:e(b.Provider,{value:n,children:e("tr",{...l})})})},q=({title:m,editable:l,children:n,dataIndex:d,record:f,handleSave:S,...i})=>{const[r,w]=s.exports.useState(!1),g=s.exports.useRef(null),y=s.exports.useContext(b);s.exports.useEffect(()=>{r&&g.current.focus()},[r]);const o=()=>{w(!r),y.setFieldsValue({[d]:f[d]})},h=async()=>{try{const u=await y.validateFields();o(),S({...f,...u})}catch(u){console.log("Save failed:",u)}};let c=n;return l&&(c=r?e(E.Item,{style:{margin:0},name:d,rules:[{required:!0,message:`${m} is required.`}],children:e(L,{ref:g,onPressEnter:h,onBlur:h})}):e("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:o,children:n})),e("td",{...i,children:c})},z=()=>{const m=[{title:"parent 0",key:"0-0",children:[{title:"leaf 0-0",key:"0-0-0",isLeaf:!0},{title:"leaf 0-1",key:"0-0-1",isLeaf:!0}]},{title:"parent 1",key:"0-1",children:[{title:"leaf 1-0",key:"0-1-0",isLeaf:!0},{title:"leaf 1-1",key:"0-1-1",isLeaf:!0}]}],[l,n]=s.exports.useState(!1),d=(t,a)=>{console.log("Trigger Select",t,a),n(!0)},f=(t,a)=>{console.log("Trigger Expand",t,a)},S=()=>{},[i,r]=s.exports.useState([{key:"0",name:"Edward King 0",age:"32",address:"London, Park Lane no. 0"},{key:"1",name:"Edward King 1",age:"32",address:"London, Park Lane no. 1"}]),g=[{title:"name",dataIndex:"name",width:"30%",editable:!0},{title:"age",dataIndex:"age"},{title:"address",dataIndex:"address"},{title:"operation",dataIndex:"operation"}].map(t=>t.editable?{...t,onCell:a=>({record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:y})}:t),y=t=>{const a=[...i],C=a.findIndex(D=>t.key===D.key),v=a[C];a.splice(C,1,{...v,...t}),r(a)},[o,h]=s.exports.useState(i.length),c=()=>{const t={key:o,name:`Edward King ${o}`,age:"32",address:`London, Park Lane no. ${o}`};r([...i,t]),h(o+1)},u={body:{row:$,cell:q}};return x(k,{children:[x(K,{width:300,style:{paddingLeft:10,paddingRight:10},children:[e(N,{style:{paddingTop:10,paddingBottom:10},placeholder:"Search",onChange:S}),e(p.Group,{children:e(p,{type:"primary",size:"small",children:"\u65B0\u589E\u8282\u70B9"})}),e(j,{multiple:!0,defaultExpandAll:!0,onSelect:d,onExpand:f,treeData:m})]}),e(k,{children:e(P,{style:{padding:10},children:l?x("div",{children:[e(p.Group,{children:x(B,{children:[e(p,{onClick:c,type:"primary",style:{marginBottom:16},children:"Add a row"}),e(p,{onClick:c,type:"primary",style:{marginBottom:16},children:"Save Data"})]})}),e(F,{components:u,rowClassName:()=>"editable-row",bordered:!0,dataSource:i,columns:g})]}):e(T,{})})})]})};export{z as default};
